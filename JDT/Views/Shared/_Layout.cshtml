<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <title>@ViewBag.Title</title>
        <link rel="shortcut icon" href="Content/images/favicon.png">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="">
        <meta name="author" content="">
        <meta charset="utf-8">
        <script src="https://cdn.firebase.com/v0/firebase.js"></script>
        <script src="https://cdn.firebase.com/v0/firebase-simple-login.js"></script>
        <style type="text/css">
            div.modal-content > form {
                data-validate:"parsley";
            }
            </style>
        @Styles.Render("~/Content/css/bundles")
        @Styles.Render("~/Content/css/datatables/bundles")
        @Scripts.Render("~/bundles/jquery")
        @Scripts.Render("~/bundles/fireBase")

        <script>
            var auth1;
            var jdtRef1 = new Firebase('https://jdt.firebaseio.com');
            $(document).ready(function () {
                $(document).on("click", "#logOut", function () {
                    auth1.logout();
                    //console.log("signing out");
                    //window.location.replace("../Account/Login");
                });

                $(document).on("click", "#logOutSidNav", function () {
                    auth1.logout();
                    //console.log("signing out");
                    //window.location.replace("../Account/Login");
                });

            });

            function initializeAuth(callback) {
                //console.log('Initializing Auth from Layout');
                auth1 = new FirebaseSimpleLogin(jdtRef1, function (error, user) {
                    if (error) {
                        switch (error.code) {
                            case 'INVALID_EMAIL':
                                console.log(error.code);
                            case 'INVALID_PASSWORD':
                                console.log(error.code);
                            default:
                                console.log(error.code);

                        }
                    } else if (user) {
                        // user authenticated with Firebase
                        console.log('User is authorized: User ID: ' + user.id + ', Email: ' + user.email + ', Provider: ' + user.provider);
                        callback(user.email);


                    } else {
                        var loginUrl = '@Url.Action("Login","Account")';
                        console.log('loginurl: ' + loginUrl);
                        window.location.replace(loginUrl);
                    }

                });
            }
        </script>

    </head>
<body class style>
    <div class="logo">
        <h4><a href="index.html">Light <strong>Blue</strong></a></h4>
    </div>
    <nav id="sidebar" class="sidebar nav-collapse collapse">
        @*<ul id="side-nav" class="side-nav">
            @Html.Partial("_NavSidePartial")
        </ul>*@
        
            @Html.Partial("_NavSidePartial")
        
        <div id="sidebar-settings" class="settings">


            <button type="button" data-value="icons" class="btn-icons btn btn-transparent btn-sm">Icons</button>
            <button type="button" data-value="auto" class="btn-auto btn btn-transparent btn-sm">Auto</button>

        </div>
    </nav>


            <div class="wrap">
                <header class="page-header">
                    <div class="navbar">
                        @*<ul class="nav navbar-nav navbar-right pull-right">
                            
                        </ul>*@

                        @Html.Partial("_NavHeaderPartial")

                    </div>
                    @Html.MvcSiteMap().SiteMapPath()
                </header>
                @RenderBody()
            </div>
    <script type="text/javascript" charset="utf-8" src="//netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
            @RenderSection("scripts", required: false)
            
            <script type="text/template" id="settings-template">
                <div class="setting clearfix">
                    <div>Background</div>
                    <div id="background-toggle" class="pull-left btn-group" data-toggle="buttons-radio">
                        <% dark = background == 'dark'; light = background == 'light';%>
                        <button type="button" data-value="dark" class="btn btn-sm btn-transparent <%= dark? 'active' : '' %>">Dark</button>
                        <button type="button" data-value="light" class="btn btn-sm btn-transparent <%= light? 'active' : '' %>">Light</button>
                    </div>
                </div>
                <div class="setting clearfix">
                    <div>Sidebar on the</div>
                    <div id="sidebar-toggle" class="pull-left btn-group" data-toggle="buttons-radio">
                        <% onRight = sidebar == 'right'%>
                        <button type="button" data-value="left" class="btn btn-sm btn-transparent <%= onRight? '' : 'active' %>">Left</button>
                        <button type="button" data-value="right" class="btn btn-sm btn-transparent <%= onRight? 'active' : '' %>">Right</button>
                    </div>
                </div>
                <div class="setting clearfix">
                    <div>Sidebar</div>
                    <div id="display-sidebar-toggle" class="pull-left btn-group" data-toggle="buttons-radio">
                        <% display = displaySidebar%>
                        <button type="button" data-value="true" class="btn btn-sm btn-transparent <%= display? 'active' : '' %>">Show</button>
                        <button type="button" data-value="false" class="btn btn-sm btn-transparent <%= display? '' : 'active' %>">Hide</button>
                    </div>
                </div>
            </script>
            <script type="text/template" id="settings-template">
                <div class="setting clearfix">
                    <div>Background</div>
                    <div id="background-toggle" class="pull-left btn-group" data-toggle="buttons-radio">
                        <% dark = background == 'dark'; light = background == 'light';%>
                        <button type="button" data-value="dark" class="btn btn-sm btn-transparent <%= dark? 'active' : '' %>">Dark</button>
                        <button type="button" data-value="light" class="btn btn-sm btn-transparent <%= light? 'active' : '' %>">Light</button>
                    </div>
                </div>
                <div class="setting clearfix">
                    <div>Sidebar on the</div>
                    <div id="sidebar-toggle" class="pull-left btn-group" data-toggle="buttons-radio">
                        <% onRight = sidebar == 'right'%>
                        <button type="button" data-value="left" class="btn btn-sm btn-transparent <%= onRight? '' : 'active' %>">Left</button>
                        <button type="button" data-value="right" class="btn btn-sm btn-transparent <%= onRight? 'active' : '' %>">Right</button>
                    </div>
                </div>
                <div class="setting clearfix">
                    <div>Sidebar</div>
                    <div id="display-sidebar-toggle" class="pull-left btn-group" data-toggle="buttons-radio">
                        <% display = displaySidebar%>
                        <button type="button" data-value="true" class="btn btn-sm btn-transparent <%= display? 'active' : '' %>">Show</button>
                        <button type="button" data-value="false" class="btn btn-sm btn-transparent <%= display? '' : 'active' %>">Hide</button>
                    </div>
                </div>
            </script>
</body>
</html>
